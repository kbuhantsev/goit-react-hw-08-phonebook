"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[787],{9787:function(n,e,t){t.r(e),t.d(e,{default:function(){return $}});var r,i,o=t(2791),a=t(168),s=t(7691),l=t(3522),c=(s.ZP.label(r||(r=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),(0,s.ZP)(l.Z)(i||(i=(0,a.Z)(["\n  width: 300px;\n  margin-bottom: '10px';\n"])))),u=t(9434),d=t(1634),h=t(5095),m=t.n(h),x=t(3329);var f,p,g=function(){var n=(0,u.I0)(),e=m()((function(e){var t=e.target.value;n((0,d.Tv)(t))}),500);return(0,x.jsx)(c,{id:"search",name:"search",label:"Find contacts by name",variant:"standard",sx:{marginBottom:"10px",width:"300px"},onChange:e})},Z=t(1413),b=t(2797),v=t(7205),j=s.ZP.form(f||(f=(0,a.Z)(["\n  width: 300px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n"]))),y=(0,s.ZP)(v.Z)(p||(p=(0,a.Z)(["\n  width: fit-content;\n"]))),C=t(2419),w=t(1134),P=t(4695),k=t(5985),I=t(6916),_=function(n){return n.contacts.items},S=function(n){return n.contacts.isLoading},q=function(n){return n.contacts.error},z=(0,I.P1)([_,function(n){return n.filter}],(function(n,e){return n.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())}))})),T=t(3634),F=b.Ry({name:b.Z_().min(3,"Minimum 3 letters!").required("This field is required!"),number:b.Z_().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number is not valid!").max(13,"Maximum 13 numbers!").required("This field is required!")}).required();function W(){var n=(0,w.cI)({defaultValues:{name:"",number:""},resolver:(0,P.X)(F)}),e=n.control,t=n.handleSubmit,r=n.reset,i=n.formState,a=i.errors,s=i.isSubmitSuccessful,c=(0,u.I0)(),d=(0,u.v9)(_);return o.useEffect((function(){s&&r()}),[s,r]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(j,{onSubmit:t((function(n){var e=n.name,t=n.number,r={name:e,number:t};d.find((function(n){return n.name===e}))?k.Am.warning("".concat(e," is already in contacts"),{}):c((0,T.uK)(r))}),(function(n){k.Am.error(n)})),children:[(0,x.jsx)(w.Qr,{name:"name",control:e,render:function(n){var e,t=n.field;return(0,x.jsx)(l.Z,(0,Z.Z)((0,Z.Z)({},t),{},{label:"Name",variant:"outlined",size:"small",error:a.name&&!0,helperText:null===(e=a.name)||void 0===e?void 0:e.message}))}}),(0,x.jsx)(w.Qr,{name:"number",control:e,render:function(n){var e,t=n.field;return(0,x.jsx)(l.Z,(0,Z.Z)((0,Z.Z)({},t),{},{label:"Phone",variant:"outlined",size:"small",error:a.number&&!0,helperText:null===(e=a.number)||void 0===e?void 0:e.message}))}}),(0,x.jsx)(y,{type:"submit",variant:"outlined",startIcon:(0,x.jsx)(C.Z,{}),children:"Add contact"})]}),(0,x.jsx)(k.Ix,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"})]})}var B=t(4476),L=t(1680),A=t(9773),M=t(9963),O=t(9827),Q=t(807),D=t(6650),E=t(7247),K=t(4942),N=t(3651),R=t(1745),G=t(277),H=(0,G.ZP)(N.Z)((function(n){var e,t=n.theme;return e={},(0,K.Z)(e,"&.".concat(R.Z.head),{backgroundColor:t.palette.primary.main,color:t.palette.common.white,fontSize:t.typography.htmlFontSize,fontWeight:t.typography.fontWeightBold}),(0,K.Z)(e,"&.".concat(R.Z.body),{fontSize:t.typography.fontSize}),(0,K.Z)(e,"&.MuiTableCell-body:nth-of-type(2)",{fontWeight:t.typography.fontWeightBold}),e})),V=(0,G.ZP)(Q.Z)((function(n){return{"&:nth-of-type(even)":{backgroundColor:n.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));var X=function(){var n=(0,u.I0)(),e=(0,u.v9)(z);return(0,x.jsx)(M.Z,{component:D.Z,sx:{maxWidth:"900px"},children:(0,x.jsxs)(L.Z,{"aria-label":"contacts table",children:[(0,x.jsx)(O.Z,{children:(0,x.jsxs)(Q.Z,{children:[(0,x.jsx)(H,{children:"Contact ID"}),(0,x.jsx)(H,{align:"right",children:"Name"}),(0,x.jsx)(H,{align:"right",children:"Phone"}),(0,x.jsx)(H,{align:"right"})]})}),(0,x.jsx)(A.Z,{children:e.map((function(e){var t=e.id,r=e.name,i=e.number;return(0,x.jsxs)(V,{children:[(0,x.jsx)(H,{scope:"row",children:t}),(0,x.jsx)(H,{align:"right",children:r}),(0,x.jsx)(H,{align:"right",children:i}),(0,x.jsx)(H,{align:"right",children:(0,x.jsx)(v.Z,{variant:"outlined",startIcon:(0,x.jsx)(E.Z,{}),onClick:function(){return function(e){var t=e.id;n((0,T.GK)(t))}({id:t})},children:"Delete"})})]},t)}))})]})})},J=t(4142),U=t(4746);function Y(){var n=(0,J.Z)(),e=(0,u.I0)(),t=(0,u.v9)(S),r=(0,u.v9)(q),i=(0,u.v9)(U.Qb);return(0,o.useEffect)((function(){i&&e((0,T.yF)())}),[e,i]),(0,x.jsxs)(B.Z,{children:[(0,x.jsx)(B.Z,{as:"h1",pt:"20px",pb:"10px",margin:"0 auto",color:n.palette.text.primary,children:"Phonebook"}),(0,x.jsx)(W,{}),(0,x.jsx)(B.Z,{as:"h2",mb:"0",color:n.palette.text.primary,children:"Contacts"}),(0,x.jsx)(g,{}),t&&!r&&(0,x.jsx)("b",{children:"Request in progress..."}),(0,x.jsx)(X,{}),(0,x.jsx)(k.Ix,{position:"top-right",autoClose:2e3,theme:"colored"})]})}function $(){return(0,x.jsx)(Y,{})}}}]);
//# sourceMappingURL=787.74c62563.chunk.js.map